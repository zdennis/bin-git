#!/usr/bin/env sh

VERSION="1.0.0"
SCRIPT_NAME="git-amend"

show_help() {
  cat << EOF
$SCRIPT_NAME - Amend the last commit without changing its message

Usage: $SCRIPT_NAME [options] [git-commit-options]

Options:
  -h, --help     Show this help message
  -v, --version  Show version information

Description:
  Amends the last commit, keeping the original commit message.
  This is equivalent to: git commit --amend -C HEAD

Examples:
  # Amend the last commit with staged changes
  $SCRIPT_NAME

  # Amend and include all modified tracked files
  $SCRIPT_NAME -a

  # Amend with specific files
  $SCRIPT_NAME -- file1.txt file2.txt

Version: $VERSION
EOF
}

case "$1" in
  -h|--help)
    show_help
    exit 0
    ;;
  -v|--version)
    echo "$SCRIPT_NAME version $VERSION"
    exit 0
    ;;
esac

git commit --amend -C HEAD "$@"
