#!/usr/bin/env bash

VERSION="1.0.0"
SCRIPT_NAME="git-project"

show_help() {
  cat << EOF
$SCRIPT_NAME - Initialize a new git project

Usage: $SCRIPT_NAME [options] <project-name>

Options:
  -h, --help     Show this help message
  -v, --version  Show version information

Arguments:
  project-name   Name of the project/directory to create (required)

Description:
  Creates a new directory, initializes a git repository, creates a README,
  and makes an initial commit.

Examples:
  # Create a new project
  $SCRIPT_NAME my-new-project
  cd my-new-project

Version: $VERSION
EOF
}

case "$1" in
  -h|--help)
    show_help
    exit 0
    ;;
  -v|--version)
    echo "$SCRIPT_NAME version $VERSION"
    exit 0
    ;;
esac

project_name="$1"

if [ -z "$project_name" ]; then
  echo "Error: You must provide a project name." >&2
  echo "Usage: $SCRIPT_NAME <project-name>" >&2
  exit 1
fi

if [ -d "$project_name" ]; then
  echo "Error: Directory '$project_name' already exists." >&2
  exit 1
fi

mkdir -p "$project_name"
cd "$project_name" || exit 1
git init > /dev/null
touch README
git add README
git commit -m 'initial import' > /dev/null
echo "$project_name project initialized:"
echo "  cd $project_name"
