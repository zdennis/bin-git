#!/usr/bin/env bash

VERSION="1.0.0"
SCRIPT_NAME="git-repos-name"

show_help() {
  cat << EOF
$SCRIPT_NAME - Get the GitHub repository name (org/repo format)

Usage: $SCRIPT_NAME [options]

Options:
  -h, --help     Show this help message
  -v, --version  Show version information

Description:
  Extracts and prints the repository name in 'owner/repo' format from
  the GitHub URL. For example, 'github.com/rails/rails' returns 'rails/rails'.

Examples:
  # Get repo name
  $SCRIPT_NAME

  # Use in scripts
  repo=\$($SCRIPT_NAME)

Version: $VERSION
EOF
}

case "$1" in
  -h|--help)
    show_help
    exit 0
    ;;
  -v|--version)
    echo "$SCRIPT_NAME version $VERSION"
    exit 0
    ;;
esac

url=$(git url 2>/dev/null)
if [ -z "$url" ]; then
  echo "Error: Could not determine repository URL" >&2
  exit 1
fi

echo "$url" | sed -E 's/^.*github.com\///' | head -n 1
